(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},138:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(11),u=n.n(i),o=n(27),s=(n(112),n(113),n(15)),l=n(9),j=function(e){return e.auth.isAuthenticated},b=function(e){return e.auth.user.name},d={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#3700B3"}};var f=function(){var e=Object(l.c)(j);return Object(a.jsxs)("nav",{children:[Object(a.jsx)(o.b,{to:"/",exact:!0,style:d.link,activeStyle:d.activeLink,children:"Home"}),e&&Object(a.jsx)(o.b,{to:"/contacts",exact:!0,style:d.link,activeStyle:d.activeLink,children:"Contacts"})]})},O=n(20),p=n.n(O),m=n(34),h=n(13),x=n(24),v=n.n(x);v.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var g=function(e){v.a.defaults.headers.common.Authorization="Bearer ".concat(e)},y=function(){v.a.defaults.headers.common.Authorization=""},k=Object(h.c)("auth/register",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v.a.post("/users/signup",t);case 4:return r=e.sent,g(r.data.token),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(h.c)("auth/login",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v.a.post("/users/login",t);case 4:return r=e.sent,g(r.data.token),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(h.c)("auth/logout",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v.a.post("/users/logout");case 4:y(),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(h.c)("auth/getCurrentUser",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState(),null!==(r=a.auth.token)){e.next=4;break}return e.abrupt("return",n.rejectWithValue());case 4:return g(r),e.prev=5,e.next=8,v.a.get("/users/current");case 8:return c=e.sent,i=c.data,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",e.t0.rejectWithValue());case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()),N=(n(138),n(176)),W=n(174),A=Object(W.a)((function(e){return{button:{margin:e.spacing(1)}}}));var L=function(){var e=A(),t=Object(l.c)(b),n=Object(l.b)();return Object(a.jsxs)("div",{className:"container__menu",children:[Object(a.jsx)("span",{className:"avatar__menu",children:" "}),Object(a.jsxs)("span",{className:"name__menu",children:[" ",t]}),Object(a.jsx)(N.a,{variant:"contained",color:"primary",size:"small",type:"submit",className:e.button,onClick:function(){return n(C())},children:"Logout"})]})},T={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B",fontFamily:"Roboto"},activeLink:{color:"#3700B3"}},F=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(o.b,{to:"/register",exact:!0,style:T.link,activeStyle:T.activeLink,children:"Sing up"}),Object(a.jsx)(o.b,{to:"/login",exact:!0,style:T.link,activeStyle:T.activeLink,children:"Sing in"})]})},V={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}};var D=function(){var e=Object(l.c)(j);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("header",{style:V.header,children:[Object(a.jsx)(f,{}),e?Object(a.jsx)(L,{}):Object(a.jsx)(F,{})]})})},_=n(31),z=(n(87),n(187)),B=n(179),I=n(185),q=n(180),E=n(186),J=n(61),P=n.n(J),U=n(64),R=n(178),H=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var M=function(){var e=H(),t=Object(r.useState)(""),n=Object(_.a)(t,2),c=n[0],i=n[1],u=Object(r.useState)(""),o=Object(_.a)(u,2),s=o[0],j=o[1],b=Object(r.useState)(""),d=Object(_.a)(b,2),f=d[0],O=d[1],p=Object(l.b)(),m=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":i(a);break;case"email":j(a);break;case"password":O(a);break;default:return}},h=function(){i(""),j(""),O("")};return Object(a.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(B.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(z.a,{className:e.avatar,children:Object(a.jsx)(P.a,{})}),Object(a.jsx)(U.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),p(k({name:c,email:s,password:f})),h()},noValidate:!0,children:[Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(I.a,{autoComplete:"fname",type:"text",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",value:c,onChange:m,autoFocus:!0})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:s,onChange:m,autoComplete:"email"})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:m})})]}),Object(a.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"})]})]}),Object(a.jsx)(E.a,{mt:5})]})},G=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var K=function(){var e=Object(r.useState)(""),t=Object(_.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),u=Object(_.a)(i,2),o=u[0],s=u[1],j=Object(l.b)(),b=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"email":c(a);break;case"password":s(a);break;default:return}},d=function(){c(""),s("")},f=G();return Object(a.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(B.a,{}),Object(a.jsxs)("div",{className:f.paper,children:[Object(a.jsx)(z.a,{className:f.avatar,children:Object(a.jsx)(P.a,{})}),Object(a.jsx)(U.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(w({email:n,password:o})),d()},className:f.form,noValidate:!0,children:[Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"email",type:"email",name:"email",value:n,autoComplete:"email",autoFocus:!0,onChange:b}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",name:"password",value:o,label:"Password",id:"password",autoComplete:"current-password",onChange:b}),Object(a.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:"Sign In"})]})]}),Object(a.jsx)(E.a,{mt:8})]})},Q=function(e){return e.contacts.contact},X=function(e){return e.contacts.filter},Y=function(e){var t=Q(e),n=X(e);return function(e){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(t)},Z=Object(h.c)("contact/fetchContact",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v.a.get("/contacts");case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),$=Object(h.c)("contact/addContact",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a,r,c,i,u,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.number,c=n.rejectWithValue,i={name:a,number:r},e.prev=3,e.next=6,v.a.post("/contacts",i);case 6:return u=e.sent,o=u.data,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",c(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(h.c)("contact/deleteContact",function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,v.a.delete("/contacts/".concat(t));case 4:return e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),te=(n(140),n(89)),ne=n.n(te),ae=Object(W.a)((function(e){return{button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var re=function(){var e=ae(),t=Object(r.useState)(""),n=Object(_.a)(t,2),c=n[0],i=n[1],u=Object(r.useState)(""),o=Object(_.a)(u,2),s=o[0],j=o[1],b=Object(l.c)(Q),d=Object(l.b)(),f=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":i(a);break;case"number":j(a);break;default:return}},O=function(){i(""),j("")};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),b.find((function(e){return e.name.toLowerCase()===c.toLowerCase()})))return alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 ".concat(c," \u0437 \u0442\u0430\u043a\u0438\u043c \u0456\u043c\u2019\u044f\u043c \u0432\u0436\u0435 \u0454.")),void O();d($({name:c,number:s})),O()},children:[Object(a.jsx)(I.a,{size:"small",label:"Name",variant:"outlined",type:"text",name:"name",placeholder:"Jony Dep",value:c,onChange:f}),Object(a.jsx)(I.a,{size:"small",label:"Phone",variant:"outlined",type:"text",name:"number",placeholder:"111-11-11",value:s,onChange:f}),Object(a.jsx)(N.a,{variant:"contained",color:"primary",size:"small",type:"submit",disabled:""===c||""===s,className:e.button,startIcon:Object(a.jsx)(ne.a,{}),children:"Save"})]})})},ce=(n(141),n(90)),ie=n.n(ce),ue=n(181),oe=n(182),se=n(184),le=n(183),je=Object(W.a)((function(e){return{button:{margin:e.spacing(1)},root:{display:"flex",flexDirection:"column",margin:e.spacing(1),width:"100%"}}}));var be=function(){var e=je(),t=Object(l.c)(Y),n=Object(l.b)();return Object(a.jsxs)(a.Fragment,{children:[!t.length&&Object(a.jsx)("div",{children:"\u041d\u0435\u043c\u0430\u0454 \u0436\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0443"}),Object(a.jsx)(ue.a,{className:e.root,children:t.map((function(t){var r=t.id,c=t.name,i=t.number;return Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(se.a,{primary:c}),Object(a.jsx)(se.a,{primary:i}),Object(a.jsx)(N.a,{variant:"contained",color:"primary",size:"small",className:e.button,startIcon:Object(a.jsx)(ie.a,{}),onClick:function(){return function(e){return n(ee(e))}(r)},children:"Delete"})]},r)}))})]})},de={changeFilter:Object(h.b)("contact/changeFilter")};n(142);var fe=function(){var e=Object(l.c)(X),t=Object(l.b)();return Object(a.jsx)(I.a,{size:"small",label:"Search",variant:"outlined",type:"text",value:e,onChange:function(e){return t(de.changeFilter(e.target.value))}})};var Oe=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){return e(Z())}),[e]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{}),Object(a.jsx)(fe,{}),Object(a.jsx)(be,{})]})},pe=n(48),me=n(63);var he=function(e){e.isAuthenticated;var t=e.redirectTo,n=e.children,r=Object(me.a)(e,["isAuthenticated","redirectTo","children"]),c=Object(l.c)(j);return Object(a.jsx)(s.b,Object(pe.a)(Object(pe.a)({},r),{},{children:c?n:Object(a.jsx)(s.a,{to:t})}))};var xe=function(e){e.isAuthenticated;var t=e.redirectTo,n=e.children,r=Object(me.a)(e,["isAuthenticated","redirectTo","children"]),c=Object(l.c)(j);return Object(a.jsx)(s.b,Object(pe.a)(Object(pe.a)({},r),{},{children:c&&r.restricted?Object(a.jsx)(s.a,{to:t}):n}))},ve=function(){return Object(a.jsx)("div",{className:"container__home",children:Object(a.jsx)("h1",{className:"title__home",children:"\u0412\u0456\u0442\u0430\u044e"})})};var ge,ye,ke,we,Ce,Se,Ne,We=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){return e(S())}),[e]),Object(a.jsxs)("div",{className:"Containet",children:[Object(a.jsx)(D,{}),Object(a.jsxs)(s.d,{children:[Object(a.jsx)(xe,{exact:!0,path:"/",children:Object(a.jsx)(ve,{})}),Object(a.jsx)(xe,{path:"/register",restricted:!0,redirectTo:"/contacts",children:Object(a.jsx)(M,{})}),Object(a.jsx)(xe,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(a.jsx)(K,{})}),Object(a.jsx)(he,{path:"/contacts",redirectTo:"/login",children:Object(a.jsx)(Oe,{})})]})]})},Ae=n(62),Le=n(7),Te=n(18),Fe={name:null,email:null},Ve=Object(h.d)(Fe,(ge={},Object(Le.a)(ge,k.fulfilled,(function(e,t){return t.payload.user})),Object(Le.a)(ge,w.fulfilled,(function(e,t){return t.payload.user})),Object(Le.a)(ge,C.fulfilled,(function(){return Fe})),Object(Le.a)(ge,S.fulfilled,(function(e,t){return t.payload})),ge)),De=Object(h.d)(null,(ye={},Object(Le.a)(ye,k.fulfilled,(function(e,t){return t.payload.token})),Object(Le.a)(ye,w.fulfilled,(function(e,t){return t.payload.token})),Object(Le.a)(ye,C.fulfilled,(function(){return null})),ye)),_e=function(e,t){return t.payload},ze=Object(h.d)(null,(ke={},Object(Le.a)(ke,k.rejected,_e),Object(Le.a)(ke,w.rejected,_e),Object(Le.a)(ke,C.rejected,_e),Object(Le.a)(ke,S.rejected,_e),ke)),Be=Object(h.d)(!1,(we={},Object(Le.a)(we,k.fulfilled,(function(){return!0})),Object(Le.a)(we,k.rejected,(function(){return!1})),Object(Le.a)(we,w.fulfilled,(function(){return!0})),Object(Le.a)(we,w.rejected,(function(){return!1})),Object(Le.a)(we,C.fulfilled,(function(){return!1})),Object(Le.a)(we,S.fulfilled,(function(){return!0})),Object(Le.a)(we,S.rejected,(function(){return!1})),we)),Ie=Object(Te.c)({user:Ve,token:De,error:ze,isAuthenticated:Be}),qe=Object(h.d)([],(Ce={},Object(Le.a)(Ce,Z.fulfilled,(function(e,t){return t.payload})),Object(Le.a)(Ce,$.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(Ae.a)(e),[n])})),Object(Le.a)(Ce,ee.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Ce)),Ee=Object(h.d)("",Object(Le.a)({},de.changeFilter,(function(e,t){return t.payload}))),Je=Object(h.d)(null,(Se={},Object(Le.a)(Se,Z.rejected,(function(e,t){return t.payload})),Object(Le.a)(Se,Z.pending,(function(){return null})),Se)),Pe=Object(h.d)(!1,(Ne={},Object(Le.a)(Ne,Z.pending,(function(){return!0})),Object(Le.a)(Ne,Z.fulfilled,(function(){return!1})),Object(Le.a)(Ne,Z.rejected,(function(){return!1})),Object(Le.a)(Ne,$.pending,(function(){return!0})),Object(Le.a)(Ne,$.fulfilled,(function(){return!1})),Object(Le.a)(Ne,$.rejected,(function(){return!1})),Object(Le.a)(Ne,ee.pending,(function(){return!0})),Object(Le.a)(Ne,ee.fulfilled,(function(){return!1})),Object(Le.a)(Ne,ee.rejected,(function(){return!1})),Ne)),Ue=Object(Te.c)({contact:qe,loading:Pe,filter:Ee,error:Je}),Re=n(35),He=n(91),Me=n.n(He),Ge=Object(Ae.a)(Object(h.e)({serializableCheck:{ignoredActions:[Re.a,Re.f,Re.b,Re.c,Re.d,Re.e]}})),Ke={key:"auth",storage:Me.a,whitelist:["token"]},Qe=Object(h.a)({reducer:{auth:Object(Re.g)(Ke,Ie),contacts:Ue},devTools:!1,middleware:Ge}),Xe=Object(Re.h)(Qe),Ye=n(92);u.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:Qe,children:Object(a.jsx)(Ye.a,{loading:null,persistor:Xe,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(We,{})})})})}),document.getElementById("root"))},87:function(e,t,n){}},[[145,1,2]]]);
//# sourceMappingURL=main.5d31d538.chunk.js.map